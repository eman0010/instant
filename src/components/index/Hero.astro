---
import Button from "../Button.astro";
import Countdown from "./Countdown.astro";
import HeroHeading from "../HeroHeading.astro";

interface CTA {
  label: string;
  href: string;
}

const today = new Date();
const eventDate = new Date("2025-10-18T00:00:00");

// Slutningen af event-dagen (d. 18/10 kl. 23:59:59)
const eventEnd = new Date("2025-10-18T23:59:59");

let cta: CTA;

if (today < eventDate) {
  // Før dagen
  cta = { label: "Save the date", href: "/about" };
} else if (today >= eventDate && today <= eventEnd) {
  // På dagen (mellem midnat og 23:59:59 d. 18/10)
  cta = { label: "Share your instant", href: "/share" };
} else {
  // Efter dagen
  cta = { label: "See the 2025 contributions", href: "/winners" };
}
---

<section class="hero relative w-full">
  <!-- Baggrundsbillede -->
  <img
    src="/index/hero.webp"
    alt="Instant Day hero"
    class="w-full h-auto sm:h-auto lg:h-screen object-contain sm:object-contain lg:object-cover object-center"
  />

  <!-- Indhold ovenpå billedet -->
  <div
    class="absolute inset-0 flex flex-col justify-between pt-6 md:pt-12 pb-6 md:pb-12"
  >
    <!-- Tekstblok -->
    <HeroHeading title="INSTANT DAY" subtitle="18/10/25" />

    <!-- Countdown + dynamisk CTA -->
    <div class="flex flex-col items-center space-y-0 sm:space-y-4">
      <Countdown />
      <Button variant="primary" href={cta.href} label={cta.label} />
    </div>
  </div>
</section>
